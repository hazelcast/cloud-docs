= Node.js Hello World
:url-github-nodejs: https://github.com/hazelcast/hazelcast-nodejs-client#configuration
:description: This tutorial shows you how to get started with Hazelcast Cloud quickly. You'll create a Hazelcast Serverless cluster, and then use the {cpp} client to add some entries to a map.

{description}

== Before you Begin

You need a xref:create-account.adoc[Hazelcast Cloud account].

link:https://docs.npmjs.com/cli/v8/configuring-npm/install[Install the npm package manager].

== Step 1. Start a Hazelcast Cloud Cluster

In the Hazelcast Cloud console, do the following:

include::create-serverless-cluster.adoc[tag=development] 

== Step 2. Run the Sample Client

. Open the Hazelcast Cloud console and click *Connect your Application*.

. Go to the *Node.js* tab and download the ZIP file.

. Extract the ZIP file, change into the extracted root directory and execute the following command:
+
```bash
npm run client_with_ssl
```

You should see log output similar to the following:

image:nodejs-client-log.png[Node.js client logs that it is connected]

`Connection Successful!` in your logs means that your client application has successfully connected to your cluster in Hazelcast Cloud. The sample client code adds random entries to a map in your cluster. In your Hazelcast Cloud console, you should see the charts begin to be populated with metrics of your map.

Also, you can see your client listed under *Client Statistics* at the bottom of your cluster's page.

== Client Code

To help you understand how the client connected to the cluster, this section explains some of the source code. 

TIP: The code for this sample client is hosted on link:https://github.com/hazelcast/hazelcast-cloud-nodejs-sample-client/tree/5.1/client_with_ssl.js[GitHub].

.client_with_ssl.js
[source,javascript]
----
'use strict';

const {Client} = require('hazelcast-client');
const fs = require('fs');
const path = require('path')

function createClientConfig() {
    return {
      network: {
        ssl: { <1>
          enabled: true,
          sslOptions: {
              ca: [fs.readFileSync(path.resolve(path.join(__dirname, 'ca.pem')))],
              cert: [fs.readFileSync(path.resolve(path.join(__dirname, 'cert.pem')))],
              key: [fs.readFileSync(path.resolve(path.join(__dirname, 'key.pem')))],
              passphrase: 'YOUR_KEYSTORE_PASSWORD',
              rejectUnauthorized: false
          }
        },
        hazelcastCloud: {
          discoveryToken: 'YOUR_CLUSTER_DISCOVERY_TOKEN' <2>
        },
      },
    clusterName: 'YOUR-CLUSTER-NAME', <3>
    properties: {
          'hazelcast.client.statistics.enabled': true, <4>
          'hazelcast.client.statistics.period.seconds': 1,
    }
  }
}

async function mapExample(map) {
    console.log("Now, `map` will be filled with random entries.");

    let iterationCounter = 0;
    while (true) { <5>
        const randomKey = Math.floor(Math.random() * 100000);
        await map.put('key' + randomKey, 'value' + randomKey);
        await map.get('key' + randomKey);
        if (++iterationCounter === 10) {
            iterationCounter = 0;
            const size = await map.size();
            console.log(`map size: ${size}`);
        }
    }
}

(async () => {
    try {
        const client = await Client.newHazelcastClient(createClientConfig());
        const map = await client.getMap('map');
        console.log("Connection Successful!");

        // the 'mapExample()' method is an infinite loop, so if you'd like to try other examples,
        // don't forget to comment out this line
        await mapExample(map);

    } catch (err) {
        console.error('Error occurred:', err);
    }
})();
----

<1> Configure TLS encryption. You already downloaded these certificate and key files with the client code. 

<2> Set the discovery token.
+
This token is also unique to your cluster and used to discover Hazelcast cluster members.

<3> Set the cluster name.
+
The cluster name is unique to your cluster. The client is authenticated using this cluster name.

<4> Enable Hazelcast to send the client statistics to the cluster's page.

<5> Add random entries with 100-millisecond intervals.

== Learn More

See the link:{url-github-nodejs}[Hazelcast Node.js client documentation] for more information about using the Node.js client.